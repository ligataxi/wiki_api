Webhooks - это инструмент с помощью которого внешний сервис может получать уведомления о событиях которые происходят по ходу работы Вашей учетной записи (уведомление осуществляется путем отправки HTTP запроса к внешнему сервису).

Для настройки webhook необходимо перейти в **Администрирование → Интеграции → Webhooks.**

Webhooks могут срабатывать автоматически на события водителя и на события заказа, также дополнительно на рабочее место оператора можно добавить кнопки меню которые будут отображаться при клике правой кнопкой мыши на позывном водителя или строке заказа.

**События водителя когда webhooks автоматически сработают:**

* Водитель открыл смену
* Водитель закрыл смену
* Изменился статус водителя
* Изменился баланс водителя
* SOS (водитель нажал кнопку тревоги)
* Водитель отправил сообщение оператору

**События заказа когда webhooks автоматически сработают:**

* Изменился статус заказа
* Изменился статус распределения
* Изменился метод распределения
* Заказ создан
* Заказ отредактирован
* На заказ назначен водитель
* Водитель принял заказ
* Водитель отклонил заказ
* Заказ снят с водителя
* Заказ выполнен
* Заказ отменен
* Заказ восстановлен

**Дополнительно**

Для удобства пользователя мы предусмотрели возможность отображения дополнительных кнопок меню только при определенных условиях. (важно чтобы все условия совпадали)

**Условия отображения дополнительного меню водителя:**

* Статус водителя:
    * Свободен
    * На перерыве
    * На заказе
    * Заблокирован
    * Предложен заказ
* Группа водителя

**Условия отображения дополнительного меню заказа:**

* Статус заказа
    * Новый
    * Принят
    * На месте
    * По маршруту
    * Выполнен
    * Отменен
    * Просрочен
* Статус распределения
    * Распределение отключено
    * Ожидает распределения
    * Ожидает принятия
    * Принят
    * Отклонен
    * Водитель не найден
* Отображать при методе распределения
    * Водитель отсутствует
    * Персональный
    * Эфир
    * Обменник
    * РБТ
    * UP&UP
    * Taxik
    * Sedi
    * Внешнее приложение
    * MultiTaxi
* Тип заказа

**Принцип работы**

После того наступления определенного события заказа или события водителя на указанный в настройках Webhooks URL будет отправлен HTTP запрос с помощью удобного для внешней системы метода (GET, POST, PUT, DELETE) также в теле запроса будут параметры о заказе или водителе которые Вы ранее указали в настройках.